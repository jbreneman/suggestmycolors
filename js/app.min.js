"use strict";function $(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function mutateColor(e,t,o,n,r,a,l){for(var i=$.hexToRGB(e),c={r:t+r,g:o+r,b:n+r},d={r:c.r,g:c.g,b:c.b},u="",s=1;a>=s;s++){var m="";m=l===!0?$.RGBToHex(t>0?255-i.r:i.r,o>0?255-i.g:i.g,n>0?255-i.b:i.b):$.RGBToHex($.zeroTo255(i.r+c.r),$.zeroTo255(i.g+c.g),$.zeroTo255(i.b+c.b)),u+='<div class="color" style="background: '+m+'"><a href="index.html'+m+'">'+m+"</a></div>",c={r:c.r+d.r,g:c.g+d.g,b:c.b+d.b}}return u}function printColors(){return'<div class="column"><h2>Opposites</h2>'+mutateColor(hex,255,0,0,0,1,!0)+mutateColor(hex,0,255,0,0,1,!0)+mutateColor(hex,0,0,255,0,1,!0)+mutateColor(hex,255,255,0,0,1,!0)+mutateColor(hex,0,255,255,0,1,!0)+mutateColor(hex,255,0,255,0,1,!0)+mutateColor(hex,255,255,255,0,1,!0)+'</div><div class="column"><h2>Half Opposites</h2>'+mutateColor(hex,128,-32,0,0,1,!1)+mutateColor(hex,0,128,-32,0,1,!1)+mutateColor(hex,-32,0,128,0,1,!1)+mutateColor(hex,128,128,0,0,1,!1)+mutateColor(hex,0,128,128,0,1,!1)+mutateColor(hex,128,0,128,0,1,!1)+mutateColor(hex,128,128,128,0,1,!1)+'</div><div class="column"><h2>Red Shift</h2>'+mutateColor(hex,32,0,0,0,7,!1)+'</div><div class="column"><h2>Green Shift</h2>'+mutateColor(hex,0,32,0,0,7,!1)+'</div><div class="column"><h2>Blue Shift</h2>'+mutateColor(hex,0,0,32,0,7,!1)+"</div>"}function isValidHex(e){var t=/^#[0-9A-F]{6}$/i.test(e);return t?e:"#577d06"}function refreshPalettes(){for(var e=l.list(),t="",o=document.getElementById("saved-palettes"),n=0;n<e.length;++n)t+="<li>"+e[n]+"</li>";""!==t?o.innerHTML=t:o.innerHTML("<li>No palettes saved</li>")}function init(){refreshPalettes()}var l={load:function(e){return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):!1},save:function(e,t){return localStorage?localStorage.setItem(e,JSON.stringify(t)):void 0},rename:function(e,t){this.save(t,localStorage.getItem(e)),this.del(e)},del:function(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):void 0},list:function(){if(localStorage){for(var e=[],t=0;t<localStorage.length;t++)e[t]=localStorage.key(t);return e.length>0?e:!1}}};$.hexToRGB=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),rgb:parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16)}:null},$.RGBToHex=function(e,t,o){function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+n(e)+n(t)+n(o)},$.zeroTo255=function(e){return e>255&&(e-=255,e>255&&(e=$.zeroTo255(e))),0>e&&(e+=255,0>e&&(e=$.zeroTo255(e))),e},$.toggleClass=function(e,t,o){return e.className=e.className===t?o:t},$.bind=function(e,t){if(e)for(var o in t){var n=t[o];o.split(/\s+/).forEach(function(t){e.addEventListener(t,n)})}};var hex=isValidHex(window.location.hash),color=document.getElementById("color"),pick=document.getElementById("pick"),header=document.getElementById("headwrap"),headAnchor=header.getElementsByClassName("head-anchor"),slider=document.getElementById("slider"),picker=document.getElementById("picker"),output=document.getElementById("outputs"),sliderIndicator=document.getElementById("slider-indicator"),pickerIndicator=document.getElementById("picker-indicator");color.innerHTML="",ColorPicker.fixIndicators(sliderIndicator,pickerIndicator);var cp=new ColorPicker(slider,picker,function(e,t,o,n,r){ColorPicker.positionIndicators(document.getElementById("slider-indicator"),document.getElementById("picker-indicator"),r,n),color.innerHTML="<p>"+e+"</p>",header.style.backgroundColor=e;for(var a=0;a<headAnchor.length;++a)headAnchor[a].style.color=t.v>.6&&t.s<.6?"#000":"#fff";pick.style.backgroundColor=e,hex=e,output.innerHTML=printColors()});cp.setHex(hex),picker.addEventListener("mouseup",function(){window.location.hash=hex}),window.addEventListener("hashchange",function(){hex=isValidHex(window.location.hash),output.innerHTML=printColors(),cp.setHex(hex)}),$.bind(document.getElementById("about-anchor"),{click:function(e){e.preventDefault(),$.toggleClass(document.getElementById("about"),"hide","show"),$.toggleClass(document.getElementById("overlay"),"hide","show")}}),$.bind(document.getElementById("close-about"),{click:function(){$.toggleClass(document.getElementById("about"),"hide","show"),$.toggleClass(document.getElementById("overlay"),"hide","show")}}),$.bind(document.getElementById("overlay"),{click:function(){$.toggleClass(document.getElementById("about"),"hide","show"),$.toggleClass(document.getElementById("overlay"),"hide","show")}}),$.bind(document.getElementById("saved-anchor"),{click:function(e){e.preventDefault(),$.toggleClass(document.getElementById("saved"),"hide","show")}}),$.bind(document.getElementById("close-saved"),{click:function(e){e.preventDefault(),$.toggleClass(document.getElementById("saved"),"hide","show")}});var paletteName=document.getElementById("palette-name"),nameSave="";$.bind(paletteName,{focus:function(){nameSave=paletteName.value},blur:function(){"Name this palette"===nameSave?l.save(paletteName.value):l.rename(nameSave,paletteName.value),refreshPalettes()}}),"loading"!==document.readyState?init():document.addEventListener("DOMContentLoaded",init);