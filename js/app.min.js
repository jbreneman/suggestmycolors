"use strict";function loadPalette(e){return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):!1}function savePalette(e,t){return localStorage&&!localStorage.getItem(e)?(localStorage.setItem(e,JSON.stringify(t)),localStorage.getItem(e)?!0:!1):!1}function deletePalette(e){return localStorage&&localStorage.getItem(e)?(localStorage.removeItem(e),localStorage.getItem(e)?!1:!0):!1}function listPalettes(){if(localStorage){for(var e=[],t=0;t<localStorage.length;t++)e[t]=localStorage.key(t);return e.length>0?e:!1}return!1}function hex2rgb(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),rgb:parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16)}:null}function componentToHex(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function rgbToHex(e,t,o){return"#"+componentToHex(e)+componentToHex(t)+componentToHex(o)}function zeroTo255(e){return e>255&&(e-=255,e>255&&(e=zeroTo255(e))),0>e&&(e+=255,0>e&&(e=zeroTo255(e))),e}function mutateColor(e,t,o,r,n,l,a){for(var c=hex2rgb(e),i={r:t+n,g:o+n,b:r+n},d={r:i.r,g:i.g,b:i.b},s="",u=1;l>=u;u++){var h="";h=a===!0?rgbToHex(t>0?255-c.r:c.r,o>0?255-c.g:c.g,r>0?255-c.b:c.b):rgbToHex(zeroTo255(c.r+i.r),zeroTo255(c.g+i.g),zeroTo255(c.b+i.b)),s+='<div class="color" style="background: '+h+'"><a href="index.html'+h+'">'+h+"</a></div>",i={r:i.r+d.r,g:i.g+d.g,b:i.b+d.b}}return s}function printColors(){return'<div class="column"><h2>Opposites</h2>'+mutateColor(hex,255,0,0,0,1,!0)+mutateColor(hex,0,255,0,0,1,!0)+mutateColor(hex,0,0,255,0,1,!0)+mutateColor(hex,255,255,0,0,1,!0)+mutateColor(hex,0,255,255,0,1,!0)+mutateColor(hex,255,0,255,0,1,!0)+mutateColor(hex,255,255,255,0,1,!0)+'</div><div class="column"><h2>Half Opposites</h2>'+mutateColor(hex,128,-32,0,0,1,!1)+mutateColor(hex,0,128,-32,0,1,!1)+mutateColor(hex,-32,0,128,0,1,!1)+mutateColor(hex,128,128,0,0,1,!1)+mutateColor(hex,0,128,128,0,1,!1)+mutateColor(hex,128,0,128,0,1,!1)+mutateColor(hex,128,128,128,0,1,!1)+'</div><div class="column"><h2>Red Shift</h2>'+mutateColor(hex,32,0,0,0,7,!1)+'</div><div class="column"><h2>Green Shift</h2>'+mutateColor(hex,0,32,0,0,7,!1)+'</div><div class="column"><h2>Blue Shift</h2>'+mutateColor(hex,0,0,32,0,7,!1)+"</div>"}function isValidHex(e){var t=/^#[0-9A-F]{6}$/i.test(e);return t?e:"#577d06"}function toggleClass(e,t,o){return e.className=e.className===t?o:t}var hex=isValidHex(window.location.hash),color=document.getElementById("color"),pick=document.getElementById("pick"),header=document.getElementById("headwrap"),headAnchor=header.getElementsByClassName("head-anchor"),slider=document.getElementById("slider"),picker=document.getElementById("picker"),output=document.getElementById("outputs"),sliderIndicator=document.getElementById("slider-indicator"),pickerIndicator=document.getElementById("picker-indicator");color.innerHTML="",ColorPicker.fixIndicators(sliderIndicator,pickerIndicator);var cp=new ColorPicker(slider,picker,function(e,t,o,r,n){ColorPicker.positionIndicators(document.getElementById("slider-indicator"),document.getElementById("picker-indicator"),n,r),color.innerHTML="<p>"+e+"</p>",header.style.backgroundColor=e;for(var l=0;l<headAnchor.length;++l)headAnchor[l].style.color=t.v>.6&&t.s<.6?"#000":"#fff";pick.style.backgroundColor=e,hex=e,output.innerHTML=printColors()});cp.setHex(hex),picker.addEventListener("mouseup",function(){window.location.hash=hex}),window.addEventListener("hashchange",function(){hex=isValidHex(window.location.hash),output.innerHTML=printColors(),cp.setHex(hex)});var about=document.getElementById("about"),overlay=document.getElementById("overlay");document.getElementById("about-anchor").addEventListener("click",function(e){e.preventDefault(),toggleClass(about,"hide","show"),toggleClass(overlay,"hide","show")}),document.getElementById("close").addEventListener("click",function(){toggleClass(about,"hide","show"),toggleClass(overlay,"hide","show")}),document.getElementById("overlay").addEventListener("click",function(){toggleClass(about,"hide","show"),toggleClass(overlay,"hide","show")});