"use strict";function $(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function mutateColor(e,t,o,l,r,a,n){for(var i=$.hexToRGB(e),c={r:t+r,g:o+r,b:l+r},d={r:c.r,g:c.g,b:c.b},s="",u=1;a>=u;u++){var g="";g=n===!0?$.RGBToHex(t>0?255-i.r:i.r,o>0?255-i.g:i.g,l>0?255-i.b:i.b):$.RGBToHex($.zeroTo255(i.r+c.r),$.zeroTo255(i.g+c.g),$.zeroTo255(i.b+c.b)),s+='<div class="color" style="background: '+g+'"><a href="index.html'+g+'">'+g+"</a></div>",c={r:c.r+d.r,g:c.g+d.g,b:c.b+d.b}}return s}function printColors(){return'<div class="column"><h2>Opposites</h2>'+mutateColor(hex,255,0,0,0,1,!0)+mutateColor(hex,0,255,0,0,1,!0)+mutateColor(hex,0,0,255,0,1,!0)+mutateColor(hex,255,255,0,0,1,!0)+mutateColor(hex,0,255,255,0,1,!0)+mutateColor(hex,255,0,255,0,1,!0)+mutateColor(hex,255,255,255,0,1,!0)+'</div><div class="column"><h2>Half Opposites</h2>'+mutateColor(hex,128,-32,0,0,1,!1)+mutateColor(hex,0,128,-32,0,1,!1)+mutateColor(hex,-32,0,128,0,1,!1)+mutateColor(hex,128,128,0,0,1,!1)+mutateColor(hex,0,128,128,0,1,!1)+mutateColor(hex,128,0,128,0,1,!1)+mutateColor(hex,128,128,128,0,1,!1)+'</div><div class="column"><h2>Red Shift</h2>'+mutateColor(hex,32,0,0,0,7,!1)+'</div><div class="column"><h2>Green Shift</h2>'+mutateColor(hex,0,32,0,0,7,!1)+'</div><div class="column"><h2>Blue Shift</h2>'+mutateColor(hex,0,0,32,0,7,!1)+"</div>"}function isValidHex(e){var t=/^#[0-9A-F]{6}$/i.test(e);return t?e:"#577d06"}var l={load:function(e){return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):!1},save:function(e,t){return localStorage?(localStorage.setItem(e,JSON.stringify(t)),localStorage.getItem(e)?!0:!1):!1},rename:function(e,t){return localStorage.setItem(t,localStorage.getItem(e)),localStorage.removeItem(e),localStorage.getItem(t)?!0:!1},del:function(e){return localStorage&&localStorage.getItem(e)?(localStorage.removeItem(e),localStorage.getItem(e)?!1:!0):!1},list:function(){if(localStorage){for(var e=[],t=0;t<localStorage.length;t++)e[t]=localStorage.key(t);return e.length>0?e:!1}return!1}};l.save("realllllly reallllllllllllllllllly long names are awesome are they not?",[1,2,3,4,5]),$.hexToRGB=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),rgb:parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16)}:null},$.RGBToHex=function(e,t,o){function l(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+l(e)+l(t)+l(o)},$.zeroTo255=function(e){return e>255&&(e-=255,e>255&&(e=$.zeroTo255(e))),0>e&&(e+=255,0>e&&(e=$.zeroTo255(e))),e},$.toggleClass=function(e,t,o){return e.className=e.className===t?o:t};var hex=isValidHex(window.location.hash),color=document.getElementById("color"),pick=document.getElementById("pick"),header=document.getElementById("headwrap"),headAnchor=header.getElementsByClassName("head-anchor"),slider=document.getElementById("slider"),picker=document.getElementById("picker"),output=document.getElementById("outputs"),sliderIndicator=document.getElementById("slider-indicator"),pickerIndicator=document.getElementById("picker-indicator");color.innerHTML="",ColorPicker.fixIndicators(sliderIndicator,pickerIndicator);var cp=new ColorPicker(slider,picker,function(e,t,o,l,r){ColorPicker.positionIndicators(document.getElementById("slider-indicator"),document.getElementById("picker-indicator"),r,l),color.innerHTML="<p>"+e+"</p>",header.style.backgroundColor=e;for(var a=0;a<headAnchor.length;++a)headAnchor[a].style.color=t.v>.6&&t.s<.6?"#000":"#fff";pick.style.backgroundColor=e,hex=e,output.innerHTML=printColors()});cp.setHex(hex),picker.addEventListener("mouseup",function(){window.location.hash=hex}),window.addEventListener("hashchange",function(){hex=isValidHex(window.location.hash),output.innerHTML=printColors(),cp.setHex(hex)});var about=document.getElementById("about"),overlay=document.getElementById("overlay");document.getElementById("about-anchor").addEventListener("click",function(e){e.preventDefault(),$.toggleClass(about,"hide","show"),$.toggleClass(overlay,"hide","show")}),document.getElementById("close").addEventListener("click",function(){$.toggleClass(about,"hide","show"),$.toggleClass(overlay,"hide","show")}),document.getElementById("overlay").addEventListener("click",function(){$.toggleClass(about,"hide","show"),$.toggleClass(overlay,"hide","show")});var saved=document.getElementById("saved"),clear=document.getElementById("clear");document.getElementById("saved-anchor").addEventListener("click",function(e){e.preventDefault(),$.toggleClass(saved,"dropdown hide","dropdown show"),$.toggleClass(clear,"hide","show")}),document.getElementById("clear").addEventListener("click",function(){$.toggleClass(saved,"dropdown hide","dropdown show"),$.toggleClass(clear,"hide","show")});var paletteName=document.getElementById("palette-name"),nameSave="";paletteName.addEventListener("focus",function(){nameSave=paletteName.textContent}),paletteName.addEventListener("blur",function(){paletteName.textContent});for(var palList=l.list(),pal="",target=document.getElementById("saved"),i=0;i<palList.length;++i)pal+="<li>"+palList[i]+"</li>";console.log(pal),""!==pal?target.innerHTML=pal:target.innerHTML("<li>No palettes saved</li>");